<mvc:View controllerName="tmui5.controller.EditTicket"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:layout="sap.ui.layout"
    xmlns:layoutF="sap.ui.layout.form"
    displayBlock="true">
    <Page id="pageEditTicket" title="{i18n>editticket}">
        <customHeader>
            <Bar>
                <contentLeft>
                    <Button icon="sap-icon://nav-back" press=".onNavBack"></Button>
                </contentLeft>
                <contentMiddle>
                    <core:Icon src="sap-icon://sap-ui5" color="#1e90ff"></core:Icon>
                    <Title text="{= ${i18n>editTicket} + ' - ' + ${editTicketModel>/ticketId}}"
                        class="sapUiTinyMarginBegin"></Title>
                </contentMiddle>
            </Bar>
        </customHeader>

        <content>
            <!-- SimpleForm for Form Layout -->
            <layoutF:SimpleForm
                id="createTicketForm"
                layout="ResponsiveGridLayout"
                binding="{/}"
                editable="true"
                labelSpanXL="3"
                labelSpanL="3"
                labelSpanM="3"
                emptySpanXL="3"
                emptySpanL="3"
                emptySpanM="3">

                <layoutF:content>
                    <!-- Ticket Number -->
                    <Label text="{i18n>ticketNumberEdit}" />
                    <Input id="ticketNumberEditInput" value="{editTicketModel>/ticketId}"
                        editable="false" />

                    <!-- Ticket Type -->
                    <Label text="{i18n>ticketTypeEdit}" />
                    <Select id="ticketTypeEditInput" items="{ticketTypeModel>/}"
                        selectedKey="{editTicketModel>/ticketTypeId}">
                        <core:Item key="{ticketTypeModel>ticketTypeId}"
                            text="{ticketTypeModel>name}" />
                    </Select>

                    <!-- Assigned To -->
                    <Label text="{i18n>assignedToEdit}" />
                    <Input id="assignedToEditValueHelpInput"
                        value="{editTicketModel>/teamMemberFullName}"
                        showValueHelp="true"
                        valueHelpRequest=".onValueHelpRequestAssignedTo" />

                    <!-- Assigned To - Email -->
                    <Label text="{i18n>assignedToEmail}" />
                    <Input id="assignedToEditEmailInput" value="{editTicketModel>/teamMemberEmail}"
                        editable="false" />

                    <!-- Customer -->
                    <Label text="{i18n>customerEdit}" />
                    <Input id="customerEditValueHelpInput"
                        value="{editTicketModel>/customerName}"
                        showValueHelp="true"
                        valueHelpRequest=".onValueHelpRequestCustomer" />

                    <!-- Ticket Status -->
                    <Label text="{i18n>ticketStatusEdit}" />
                    <Select id="ticketStatusEditInput" items="{ticketStatusModel>/}"
                        selectedKey="{editTicketModel>/ticketStatusId}">
                        <core:Item key="{ticketStatusModel>ticketStatusId}"
                            text="{ticketStatusModel>ticketStatusName}" />
                    </Select>


                    <!-- Ticket Title -->
                    <Label text="{i18n>ticketTitleEdit}" />
                    <Input id="titleEditInput" value="{editTicketModel>/title}" />

                    <!-- Description -->
                    <Label text="{i18n>descriptionEdit}" />
                    <TextArea id="descriptionEditInput" value="{editTicketModel>/description}"
                        rows="5" maxLength="200"
                        placeholder="{i18n>descriptionPlaceholderEdit}"
                        showExceededText="true" />

                    <!-- Update Comment -->
                    <Label text="{i18n>updateCommentEdit}" />
                    <Input id="updateCommentEditInput">
                        <layoutData>
                            <layout:GridData span="L6 M6 S6" />
                        </layoutData>
                    </Input>

                    <Label text="" /> <!-- ensures that HBOX starts in a separat row -->
                    <!-- Save and Cancel Buttons -->
                    <HBox justifyContent="End" class="sapUiLargeMarginTop">
                        <Button text="{i18n>saveButtonText}" type="Emphasized"
                            press=".onSaveTicket" />
                        <Button text="{i18n>cancelButtonText}" type="Reject"
                            class="sapUiTinyMarginBeginEnd"
                            press=".onCancelTicket" />
                    </HBox>

                    <Label text="" /> <!-- ensures that HBOX starts in a separat row -->
                    <!-- Ticket Comments  -->
                    <HBox id="HBoxTicketComment" justifyContent="End" class="sapUiLargeMarginTop">

                    </HBox>
                </layoutF:content>
            </layoutF:SimpleForm>

        </content>
    </Page>
</mvc:View>